<!DOCTYPE html>
<head>
</head>
<body>
    <h1>000</h1>
    <input type="text" id="aaa">
    <input type="password" id="bbb">
    <input type="button" value="发送post_ajax请求" id="btnAjax">
    <br>
</body>
<footer>123</footer>
</html>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script>
    /*    $.ajax({
            url : 'http://localhost:8080/all',
            type : 'get',
            headers: {
                "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyNiIsImV4cCI6MTU1NjM1MTU1OX0.queWCnPAasmX0Q-blSyoNnG_EuUouC1uh0GJZpl_ta4"
            },
            data : '',    // type: 默认返回的是头条，可以选择的，这个。
            dataType : 'json',
            success : function(msg){
                console.log(msg)
            },
            error : function(err){
                alert('通信失败');
            }
        });*/
    document.querySelector("#btnAjax").onclick = function() {
        var username = document.getElementById("aaa").value;
        var password = document.getElementById("bbb").value;
        $.ajax({
            url: 'http://localhost:8080/add',
            type: 'post',
            data: '{"userName":"' + username +'","userPassword":" ' + password + ' "}',
            dataType: 'json',
            contentType: 'application/json;charset-UTF-8',
            headers: {
                "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyNiIsImV4cCI6MTU1NjUyODUzMH0.UGe2UfeUfgmGhAlTDopjdz0tkGHGUQf_JG35Rns5pEw",
            },
            success: function (msg) {
                if(msg.code != 1){
                    console.log(msg);
                    var x = document.querySelectorAll("h1");
                    for (var i = 0; i < x.length; i++) {
                        x[i].innerHTML = JSON.stringify(msg);
                    }
                }
            },
            error: function (err) {
                console.error(err);
                document.querySelector("h1").innerHTML = JSON.stringify(err);
            },
        });
    }

</script>
